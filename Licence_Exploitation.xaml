<Window x:Class="Projet_Mines_Official.Licence_Exploitation"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Projet_Mines_Official"
        xmlns:fa="clr-namespace:FontAwesome.WPF;assembly=FontAwesome.WPF" xmlns:controls="clr-namespace:System.Windows.Controls;assembly=DotNetProjects.Input.Toolkit"
        WindowStartupLocation="CenterScreen" 
        mc:Ignorable="d"
        Title="Licence_Exploitation" Height="6300" Width="1000">
    <ScrollViewer >

        <StackPanel x:Name="MainPage" Height="Auto">
            <!--Header Logo-->
            <Grid Height="100">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="80"/>
                </Grid.RowDefinitions>
                <Rectangle Grid.Column="0" Grid.ColumnSpan="9" Fill="#0861AD"/>
                <fa:ImageAwesome Icon="Bell"  Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" Foreground="White" Width="20" HorizontalAlignment="Center" />
                <TextBlock TextWrapping="Wrap" Grid.ColumnSpan="2" TextAlignment="Center" FontFamily="Arial" FontSize="14" FontWeight="Bold" Foreground="#fff" Margin="0,25,0,0" Grid.Column="2" Grid.Row="0">
            Royaume du Maroc Ministre de l'Energie, des Mines</TextBlock>
                <Image Source="./Images/kingdomLogo.png" Grid.Column="4" Grid.Row="0"  />
                <TextBlock TextWrapping="Wrap" Grid.ColumnSpan="2" TextAlignment="Center" FontFamily="Arial" FontSize="14" FontWeight="Bold" Foreground="#fff" Margin="0,30,0,0" Grid.Column="5" Grid.Row="0">
            المملكة المغربية وزارة الطاقة و المعادن</TextBlock>
                <fa:ImageAwesome Icon="SignOut"  Grid.Column="8" Grid.Row="0" VerticalAlignment="Center" Foreground="White" Width="20" HorizontalAlignment="Center" />

            </Grid>
            <!--les information de l'ex permis-->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Rectangle Grid.Column="0" 
                           Fill="#0861AD" 
                           Grid.ColumnSpan="10"/>
                <TextBlock Text="Licence de Permis"
                           Grid.ColumnSpan="10"
                           FontFamily="Arial" FontSize="16"
                           FontWeight="Bold" 
                           Foreground="#fff" 
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
              
                    <DataGrid Name="DataGridLicencePermis" 
                              Grid.Row="1" 
                              Grid.ColumnSpan="7" 
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              IsReadOnly="True"
                              SelectionUnit="FullRow"
                              Margin="10">
                        <DataGrid.Resources>
                            <Style TargetType="DataGridRow">
                                <Setter Property="BorderBrush" Value="Gray"/>
                                <Setter Property="BorderThickness" Value=".5"/>
                                <Setter Property="Margin" Value="0 5 0 0"/>
                                <Setter Property="Height" Value="60"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                            </Style>
                        </DataGrid.Resources>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Numer Permis" Binding="{Binding Num_Permis}">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>
                        <DataGridTemplateColumn>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <!--Afficher Area-->
                                        <Button x:Name="Afficher_Area" 
                                                        Content="Afficher Nouveau Area" 
                                                        Click="Afficher_Area_Click"  
                                                        Background="#FF9030" 
                                                        Margin="5 0 0 0"/>
                                        <!--Afficher Permis-->
                                        <Button x:Name="Afficher_Permis" 
                                                    Content="Afficher Permis" 
                                                    Click="Afficher_Permis_Click"  
                                                    Background="#FF9030" 
                                                    Margin="5 0 0 0"/>
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                    </DataGrid>
                <Button x:Name="AjouterPermisAuLicence"
                        Grid.ColumnSpan="2"
                        Content="Ajouter Permis Au Licence"
                        Grid.Column="8"
                        Grid.Row="1"
                        Click="AjouterPermisAuLicence_Click" Margin="0,22,20,21"/>
            </Grid>
            <!--Les informations de Demande-->
            <!--Les informations de Demande-->
            <Grid Height="200">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Rectangle Grid.Column="0" Fill="#0861AD" Grid.ColumnSpan="9"/>
                <TextBlock Grid.ColumnSpan="3" TextAlignment="Center"
                       FontFamily="Arial" FontSize="16" FontWeight="Bold" Foreground="#fff" Margin="0,15,0,0"
                       Grid.Column="3" Grid.Row="0">
            Les informations de Demande</TextBlock>
                <TextBlock
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="  10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="0" Grid.Row="1">
            Date Dépot</TextBlock>
                <DatePicker x:Name="Date_Depot" Grid.ColumnSpan="2"
                     FontSize="14" FontFamily="Arial" Padding="5"  Grid.Column="2" Grid.Row="1" Height="30" BorderBrush="Black" BorderThickness="1"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="0,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="5" Grid.Row="1">
            Numéro Demande</TextBlock>
                <TextBox x:Name="Numero_Demande" Grid.ColumnSpan="2"
                    FontSize="14" FontFamily="Arial" Padding="5"   Grid.Column="7" Grid.Row="1" Height="30" BorderThickness="1" Margin="0,0,10,0" KeyDown="GetOnlyNumbers_KeyDown" MouseLeave="Numero_Demande_MouseLeave"/>
            </Grid>
            <!-- Les informations de Titulaire -->
            <Grid  Height="420">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Rectangle Grid.Column="0" Fill="#0861AD" Grid.ColumnSpan="9"/>
                <TextBlock Grid.ColumnSpan="3" TextAlignment="Center"
                       FontFamily="Arial" FontSize="16" FontWeight="Bold" Foreground="#fff" Margin="0,15,0,0"
                       Grid.Column="3" Grid.Row="0">
                  Les informations de Titulaire</TextBlock>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="0" Grid.Row="1">
            Nom Demandeur</TextBlock>
                <TextBox x:Name="Nom_Demandeur" Grid.ColumnSpan="2" Text="{Binding Titulaire.Nom_Demandeur,Mode=TwoWay}"
                      FontSize="14" FontFamily="Arial" Padding="5" Grid.Column="2" Grid.Row="1" Height="30" BorderThickness="1"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="0,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="5" Grid.Row="1">
            Status Demandeur</TextBlock>
                <TextBox x:Name="Status_Demandeur" Grid.ColumnSpan="2"
                      FontSize="14" FontFamily="Arial" Padding="5" Grid.Column="7" Grid.Row="1" Margin="0,0,10,0" Height="30" BorderThickness="1"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="0" Grid.Row="2">
                Raison Social</TextBlock>
                <TextBox x:Name="Raison_Social" Grid.ColumnSpan="2"
                     FontSize="14" FontFamily="Arial" Padding="5"  Grid.Column="2" Grid.Row="2" Height="30" BorderBrush="Black" BorderThickness="1"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="5" Grid.Row="2">
                  Nom Société</TextBlock>
                <TextBox x:Name="Nom_Societe" Grid.ColumnSpan="2"
                     FontSize="14" FontFamily="Arial" Padding="5"  Grid.Column="7" Grid.Row="2" Margin="0,0,10,0" Height="30" BorderThickness="1"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="0" Grid.Row="3">
            Numéro CNSS</TextBlock>
                <TextBox x:Name="Numero_CNSS" Grid.ColumnSpan="2"
                     FontSize="14" FontFamily="Arial" Padding="5"  Grid.Column="2" Grid.Row="3" Height="30" BorderThickness="1"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="5" Grid.Row="3">
            Domicile de Demandeur</TextBlock>
                <TextBox x:Name="Domicile_Demandeur" Grid.ColumnSpan="2"
                     FontSize="14" FontFamily="Arial" Padding="5"  Grid.Column="7" Grid.Row="3" Margin="0,0,10,0" Height="30" BorderThickness="1"/>
                <!--line 3-->
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="0" Grid.Row="4">
            Registre de Commerce</TextBlock>
                <TextBox x:Name="Registre_Commerce" Grid.ColumnSpan="2"
                    FontSize="14" FontFamily="Arial" Padding="5"   Grid.Column="2" Grid.Row="4" Height="30" BorderThickness="1"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="5" Grid.Row="4">
            Taxe Prof</TextBlock>
                <TextBox x:Name="Taxe_Prof" Grid.ColumnSpan="2"
                   FontSize="14" FontFamily="Arial" Padding="5"  Grid.Column="7" Grid.Row="4" Margin="0,0,10,0" Height="30" BorderThickness="1"/>
                <!--line 4-->
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="0" Grid.Row="5">
            Nom Site</TextBlock>
                <TextBox x:Name="Nom_Site" Grid.ColumnSpan="2"
                    FontSize="14" FontFamily="Arial" Padding="5"   Grid.Column="2" Grid.Row="5" Height="30" BorderThickness="1"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="5" Grid.Row="5">
            Effective</TextBlock>
                <TextBox x:Name="Effective" Grid.ColumnSpan="2"
                    FontSize="14" FontFamily="Arial" Padding="5"   Grid.Column="7" Grid.Row="5" Margin="0,0,10,0" Height="30" BorderThickness="1" KeyDown="GetOnlyNumbers_KeyDown"/>
                <!--line 4-->

                <!--<Button x:Name="Enregistrer_Titulaire_Info" Grid.ColumnSpan="2"
                       Grid.Column="7"  Background="#EAA221" Grid.Row="6" Content="Enregistrer" Margin="0,0,10,0"/>-->


            </Grid>
            <!--Vérification des pièces-->
            <StackPanel Height="50" Background="#0861AD">

                <TextBlock Grid.Row="0" TextAlignment="Center" 
                           FontFamily="Arial" FontSize="16" FontWeight="Bold" Foreground="#fff" Margin="0,15,0,0">
                Vérification des pièces</TextBlock>
            </StackPanel>
            <StackPanel Name="ElementsDossierStack" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="9">
                <!--the Content of this element will be filled from code behind-->
            </StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <!--<Button x:Name="Valider_demande" Grid.ColumnSpan="2"
                       Grid.Column="5"  Background="#EAA221" Content="Valider demande" Margin="0,20,10,20"/>-->
                <Button x:Name="Rejet_demande" Grid.ColumnSpan="2"
                       Grid.Column="7"  Background="#EAA221" Content="Rejet demande" Margin="0,20,10,20" Click="Rejet_demande_Click"/>
            </Grid>
            <Grid  Height="480">
                <Grid.Resources>
                    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
                </Grid.Resources>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Rectangle Grid.Column="0" Fill="#0861AD" Grid.ColumnSpan="9"/>
                <TextBlock Grid.ColumnSpan="3" TextAlignment="Center"
                       FontFamily="Arial" FontSize="16" FontWeight="Bold" Foreground="#fff" Margin="0,15,0,0"
                       Grid.Column="3" Grid.Row="0">
                 Suivi Decision</TextBlock>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="20,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="0" Grid.Row="1">
            Date Decision</TextBlock>
                <DatePicker x:Name="Date_Decision" Grid.ColumnSpan="2"
                    FontSize="14" FontFamily="Arial" Padding="5"   Grid.Column="2" Grid.Row="1" Height="30" BorderThickness="1"/>

                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="20,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="0" Grid.Row="2">
                Date Institision</TextBlock>
                <DatePicker x:Name="Date_Institision" Grid.ColumnSpan="2"
                    FontSize="14" FontFamily="Arial" Padding="5"   Grid.Column="2" Grid.Row="2" Height="30" BorderBrush="Black" BorderThickness="1"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="10,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="5" Grid.Row="1">
                  Date Echeance</TextBlock>
                <DatePicker x:Name="Date_Echeance" Grid.ColumnSpan="2"
                     FontSize="14" FontFamily="Arial" Padding="5"  Grid.Column="7" Grid.Row="1" Margin="0,0,10,0" Height="30" BorderThickness="1"/>
                <!--Décision de permis de recherche-->
                <Rectangle Grid.Column="0"  Grid.Row="4" Grid.ColumnSpan="6" Stroke="Black" StrokeThickness="1" Margin="20,5,20,5"/>
                <TextBlock Grid.Column="0"  Grid.Row="4" Grid.ColumnSpan="7" FontSize="13"  Margin="25,15,0,0" TextWrapping="Wrap">
                    Décision de permis de recherche
                </TextBlock>
                <Button x:Name="Generer_Decision" 
                       Grid.Column="5"  Background="#EAA221" Grid.Row="4" Content="Générer" Margin="0,10,25,10" Click="Generer_Decision_Click" RenderTransformOrigin="0.502,0.5" />
                <!--Décision signé-->
                <TextBlock Grid.Column="0"  Grid.Row="5" Grid.ColumnSpan="7" FontSize="16" FontWeight="Bold" Margin="20,15,0,0" TextWrapping="Wrap">
                    Décision signé
                </TextBlock>

                <CheckBox IsChecked="True" Grid.Column="1"  Grid.Row="5" Name="NumPermisCheckBox" Margin="35,0,20,0"/>
                <TextBlock 
                       FontFamily="Arial" FontSize="14"  Height="30"  Margin="20,5,0,0" Grid.ColumnSpan="2"
                       Grid.Column="0" Grid.Row="6"  Text  ="{Binding NumPermis, UpdateSourceTrigger=PropertyChanged}" 
        Visibility="{Binding ElementName=NumPermisCheckBox, Path=IsChecked, Converter={StaticResource BooleanToVisibilityConverter}}">
            Numero Permis</TextBlock>
                <TextBox x:Name="Numero_Permis" Grid.ColumnSpan="2"
                     FontSize="14" FontFamily="Arial" Padding="5"  Grid.Column="2" Grid.Row="6" Margin="20,0,10,0" Height="30" BorderThickness="1" 
                              Text  ="{Binding Num_Permis,Mode=TwoWay}" 
        Visibility="{Binding ElementName=NumPermisCheckBox, Path=IsChecked, Converter={StaticResource BooleanToVisibilityConverter}}" KeyDown="GetOnlyNumbers_KeyDown" MouseLeave="Numero_Permis_MouseLeave"/>
                <Button Grid.ColumnSpan="6"
                        Name="Invitation_Enquete"
                       Grid.Column="0" Grid.Row="7"
                        Content="Genere •	Lettre d'invitation au titulaire pour la réalisation d'enquête"
                        Background="#EAA221"  Click="Invitation_Enquete_Click" Margin="50,0,0,0"/>
                <!--Lettre de transmission-->
                <Rectangle Grid.Column="0"  Grid.Row="3" Grid.ColumnSpan="7" Stroke="Black" StrokeThickness="1" Margin="20,5,20,5"/>
                <Button x:Name="PremierMiseEnDemeure"
                       Grid.Column="0" Grid.ColumnSpan="3"  Background="#EAA221" Grid.Row="8" Content="Générer Premiere Mise en demeur" Margin="50,10,0,10" 
                        Click="PremierMiseEnDemeure_Click" />
                <Button x:Name="DeuxiemeMiseEnDemeure"
                       Grid.Column="3" Grid.ColumnSpan="3"  Background="#EAA221" Grid.Row="8" Content="Générer Mise en demeur" Margin="50,10,0,10" 
                        Click="DeuxiemeMiseEnDemeure_Click" />
                <!---->
                <Button x:Name="Exporter_excel" 
                       Grid.Column="7"  Background="#0861AD"  Grid.ColumnSpan="2"  Grid.Row="8" Content="Exporter Excel" Margin="0,10,20,10" Click="Exporter_excel_Click" />
            </Grid>
        </StackPanel>
    </ScrollViewer>
</Window>
